!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var n=e(t);return null!=t&&("object"==n||"function"==n)}},function(t,n,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=e(6),i="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,u=r||i||Function("return this")();t.exports=u},function(t,n,e){var o=e(1).Symbol;t.exports=o},function(t,n,e){var o=e(0),r=e(5),i=e(8),u="Expected a function",f=Math.max,a=Math.min;t.exports=function(t,n,e){var c,s,l,y,p,v,d=0,b=!1,m=!1,h=!0;if("function"!=typeof t)throw new TypeError(u);function S(n){var e=c,o=s;return c=s=void 0,d=n,y=t.apply(o,e)}function w(t){var e=t-v;return void 0===v||e>=n||e<0||m&&t-d>=l}function g(){var t=r();if(w(t))return x(t);p=setTimeout(g,function(t){var e=n-(t-v);return m?a(e,l-(t-d)):e}(t))}function x(t){return p=void 0,h&&c?S(t):(c=s=void 0,y)}function j(){var t=r(),e=w(t);if(c=arguments,s=this,v=t,e){if(void 0===p)return function(t){return d=t,p=setTimeout(g,n),b?S(t):y}(v);if(m)return p=setTimeout(g,n),S(v)}return void 0===p&&(p=setTimeout(g,n)),y}return n=i(n)||0,o(e)&&(b=!!e.leading,l=(m="maxWait"in e)?f(i(e.maxWait)||0,n):l,h="trailing"in e?!!e.trailing:h),j.cancel=function(){void 0!==p&&clearTimeout(p),d=0,c=v=s=p=void 0},j.flush=function(){return void 0===p?y:x(r())},j}},function(t,n,e){t.exports=e(14)},function(t,n,e){var o=e(1);t.exports=function(){return o.Date.now()}},function(t,n,e){(function(n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==(void 0===n?"undefined":e(n))&&n&&n.Object===Object&&n;t.exports=o}).call(this,e(7))},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":e(window))&&(o=window)}t.exports=o},function(t,n,e){var o=e(0),r=e(9),i=NaN,u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return i;if(o(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=o(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var e=a.test(t);return e||c.test(t)?s(t.slice(2),e?2:8):f.test(t)?i:+t}},function(t,n,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=e(10),i=e(13),u="[object Symbol]";t.exports=function(t){return"symbol"==o(t)||i(t)&&r(t)==u}},function(t,n,e){var o=e(2),r=e(11),i=e(12),u="[object Null]",f="[object Undefined]",a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?f:u:a&&a in Object(t)?r(t):i(t)}},function(t,n,e){var o=e(2),r=Object.prototype,i=r.hasOwnProperty,u=r.toString,f=o?o.toStringTag:void 0;t.exports=function(t){var n=i.call(t,f),e=t[f];try{t[f]=void 0;var o=!0}catch(t){}var r=u.call(t);return o&&(n?t[f]=e:delete t[f]),r}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==e(t)}},function(t,n,e){"use strict";e.r(n);var o={};e.r(o),e.d(o,"_Utils_",function(){return u});var r=e(3),i=e.n(r),u={addEvent:function(t,n,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent?t.attachEvent("on"+n,e):t["on"+n]=e},removeEvent:function(t,n,e){t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent?t.detachEvent("on"+n,e):t["on"+n]=null},isFunc:function(t){}},f=o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n,e,o,r,i,u){try{var f=t[i](u),a=f.value}catch(t){return void e(t)}f.done?n(a):Promise.resolve(a).then(o,r)}function s(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}e.d(n,"default",function(){return y});var l=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts={wait:2e3,onSave:null,onBeforeSave:null,saveMessage:"确定要离开吗？",leading:!1,maxWait:0,trailing:!0},this.saved=!0,this._debouncedSave=i()(this._save,this.opts.wait||200,{},{leading:this.opts.leading,maxWait:this.opts.maxWait,trailing:this.opts.trailing}),this.cancel=function(){e._debouncedSave.cancel()},this.flush=function(){e._debouncedSave.flush()},this.saveBeforeClosing=function(t){return e._save&&setTimeout(e._save,100),(t||window.event).returnValue=e.opts.saveMessage},this.debouncedSave=this.debouncedSave.bind(this),Object.assign(this.opts,n)}var n,e,o;return n=t,(e=[{key:"_save",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(){var n,e,o=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.saved&&this.opts.onSave){t.next=2;break}return t.abrupt("return");case 2:if(!this.opts.onBeforeSave||!1!==(n=this.opts).onBeforeSave.apply(n,o)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,(e=this.opts).onSave.apply(e,o);case 6:this.removeBeforunload();case 7:case"end":return t.stop()}},t,this)}),function(){var n=this,e=arguments;return new Promise(function(o,r){var i=t.apply(n,e);function u(t){c(i,o,r,u,f,"next",t)}function f(t){c(i,o,r,u,f,"throw",t)}u(void 0)})});return function(){return n.apply(this,arguments)}}()},{key:"debouncedSave",value:function(){this.saved&&this.addBeforunload(),this._debouncedSave.apply(this,arguments)}},{key:"save",value:function(){this.saved=!1,this._save.apply(this,arguments)}},{key:"addBeforunload",value:function(){void 0!==("undefined"==typeof window?"undefined":a(window))&&(f.addEvent(window,"beforeunload",this.saveBeforeClosing),this.saved=!1)}},{key:"removeBeforunload",value:function(){void 0!==("undefined"==typeof window?"undefined":a(window))&&(f.removeEvent(window,"beforeunload",this.saveBeforeClosing),this.saved=!0)}},{key:"exit",value:function(){this.saved||this._save()}}])&&s(n.prototype,e),o&&s(n,o),t}();function y(t){return new l(t)}}]);